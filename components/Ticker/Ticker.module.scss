@import "styles/abstracts/mixins";

.ticker {
	padding: 12px 0;
	width: 100vw;
	border-bottom: 1px solid rgba(0, 0, 0, 0.1);
	position: relative;
	z-index: 2;
}

.viewport {
	overflow: hidden;
	max-width: 100vw;
	position: relative;
	height: 1rem;
	display: flex;
	flex-direction: row;
	--timer: calc(var(--entries, 5) * 8s);
	ul {
		min-width: 150vw;
		display: flex;
		position: absolute;
		transition: var(--timer) linear;
		top: 0;
		&.first {
			animation: animateFirstList var(--timer) linear infinite;
		}
		&.second {
			animation: animateSecondList var(--timer) linear infinite;
		}
	}
	@include on-event {
		ul {
			animation-play-state: paused;
		}
	}
}

.entry {
	display: flex;
	margin-left: 1rem;
	& > * {
		margin-right: 0.5rem;
	}
	.label {
		white-space: nowrap;
		text-transform: uppercase;
		letter-spacing: 0.04em;
		font-weight: 800;
	}
	.value {
		white-space: nowrap;
		color: var(--colour__negative4);
	}
	.arrow {
		align-self: center;
		width: 0;
		height: 0;
		border-left: 0.5em solid transparent;
		border-right: 0.5em solid transparent;

		border-top: 0.5em solid var(--colour__negative4);
	}
	&.positive {
		.value {
			color: var(--colour__positive4);
		}
		.arrow {
			border-top: 0;
			border-bottom: 0.5em solid var(--colour__positive4);
		}
	}
}

@keyframes animateFirstList {
	0% {
		transform: translateX(0);
		opacity: 1;
	}
	50% {
		transform: translateX(-100%);
		opacity: 1;
	}
	50.1% {
		transform: translateX(-100%);
		opacity: 0;
	}
	50.2% {
		transform: translateX(100%);
		opacity: 0;
	}
	50.3% {
		transform: translateX(100%);
		opacity: 1;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes animateSecondList {
	0% {
		transform: translateX(100%);
		opacity: 1;
	}
	50% {
		transform: translateX(0);
		opacity: 1;
	}
	99.7% {
		transform: translateX(-100%);
		opacity: 1;
	}
	99.8% {
		transform: translateX(-100%);
		opacity: 0;
	}
	99.9% {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(100%);
		opacity: 1;
	}
}
